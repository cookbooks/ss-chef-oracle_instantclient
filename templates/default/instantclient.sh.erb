# oracle_instantclient loading hook
#
# Generated by Chef for <%= node['fqdn'] %>
# Local modifications will be overwritten.
#
<%
  case node['kernel']['name']
  when "Darwin"
    var_name = "DYLD_LIBRARY_PATH"
  else
    var_name =  "LD_LIBRARY_PATH"
  end
-%>

oracle_path=$(ls -1d <%= node['oracle_instantclient']['root_path'] %>/instantclient_*)

if [[ -z "$<%= var_name %>" ]] ; then
  <%= var_name %>="$oracle_path"
else
  <%= var_name %>="$<%= var_name %>:$oracle_path"
fi

export <%= var_name %>
